/*! a11y-tabs 0.0.0 — © 2021 by Rob Levin */
class t{tabs=[];tabItems=null;panels=null;currentIndex=-1;constructor(t,e,s){const i=s||0;this.tabItems=document.querySelectorAll(t),this.panels=document.querySelectorAll(e),this.currentIndex=i,this.selectTab=this.selectTab.bind(this),this.deselectTabs=this.deselectTabs.bind(this),this.resetPanels=this.resetPanels.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.initTabs()}initTabs(){this.resetPanels();for(let t=0;t<this.tabItems.length;t++){const e=this.tabItems[t];this.tabs[t]=e,this.tabs[t].index=t,e.classList.remove("active"),t===this.currentIndex&&(e.classList.add("active"),this.activatePanel(e.getAttribute("aria-controls"))),e.addEventListener("click",this.handleClick),e.addEventListener("keydown",this.handleKeydown)}}activatePanel(t){document.querySelector(`#${t}`).removeAttribute("hidden"),document.querySelector(`#${t}`).setAttribute("aria-expanded",!0)}deselectTabs(){for(let t=0;t<this.tabItems.length;t++){const e=this.tabItems[t];e.classList.remove("active"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-selected",!1)}}resetPanels(){for(let t=0;t<this.panels.length;t++){const e=this.panels[t];e.setAttribute("hidden",!0),e.setAttribute("aria-expanded",!1),e.setAttribute("tabindex","0")}}selectTab(t){this.deselectTabs(),this.resetPanels(),t.classList.add("active"),t.setAttribute("aria-selected","true"),t.removeAttribute("tabindex"),this.activatePanel(t.getAttribute("aria-controls"))}handleClick(t){this.selectTab(t.target)}handleKeydown(t){switch(t.key){case"Left":case"ArrowLeft":this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.tabItems.length-1),console.log("ci after LEFT: ",this.currentIndex);break;case"Right":case"ArrowRight":this.currentIndex++,this.currentIndex>=this.tabItems.length&&(this.currentIndex=0),console.log("ci after RIGHT: ",this.currentIndex);break;case"Home":case"ArrowHome":this.currentIndex=0;break;case"End":case"ArrowEnd":this.currentIndex=this.tabItems.length-1;break;case"Enter":case"Space":this.selectTab(t.target),t.target.focus();break;default:return}t.preventDefault(),this.tabs[this.currentIndex].setAttribute("tabindex",0),this.tabs[this.currentIndex].focus()}}export{t as default};
